(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{116:function(e,t,n){e.exports={container:"Checkbox_container__1mMuZ",checkmark:"Checkbox_checkmark__2oJvp",children:"Checkbox_children__A51Da"}},117:function(e,t,n){e.exports={wrapper:"CategoryOrderingContainer_wrapper__RaXsG",cardOver:"CategoryOrderingContainer_cardOver__2jvuS"}},147:function(e,t,n){e.exports={wrapper:"IconMenuSettingsToolbar_wrapper__q6pCl",title:"IconMenuSettingsToolbar_title__jpe8o",iconWrapper:"IconMenuSettingsToolbar_iconWrapper__1xlKq",icon:"IconMenuSettingsToolbar_icon__2w4Fg",goBack:"IconMenuSettingsToolbar_goBack__2V9tr"}},21:function(e,t,n){e.exports={box:"IconMenuSettingsContext_box__3Mx7T",outerContainer:"IconMenuSettingsContext_outerContainer__3FMNE",innerContainer:"IconMenuSettingsContext_innerContainer__ecz6N",outerLeft:"IconMenuSettingsContext_outerLeft__1CCw5",outerRight:"IconMenuSettingsContext_outerRight__3SLDK",grid:"IconMenuSettingsContext_grid__1ZmUV",gridItemWrapper:"IconMenuSettingsContext_gridItemWrapper__1d9aE",gridItem:"IconMenuSettingsContext_gridItem__2OLOf",header:"IconMenuSettingsContext_header__15JNN",keyboardControlsBox:"IconMenuSettingsContext_keyboardControlsBox__5at0f",text:"IconMenuSettingsContext_text__3lgPi",checkboxText:"IconMenuSettingsContext_checkboxText__3bFJH",textInput:"IconMenuSettingsContext_textInput__27Eyp",displaySettingsBox:"IconMenuSettingsContext_displaySettingsBox__1FKtL",checkboxContainer:"IconMenuSettingsContext_checkboxContainer__37Fb5",resetButton:"IconMenuSettingsContext_resetButton__3SNXu"}},213:function(e,t,n){e.exports={wrapper:"Main_wrapper__1y5bY"}},214:function(e,t,n){e.exports={wrapper:"Toolbar_wrapper__2gh-w"}},215:function(e,t,n){e.exports={wrapper:"Context_wrapper__EZ6JD"}},36:function(e,t,n){e.exports={wrapper:"PieMenuToolbar_wrapper__2LjpF",title:"PieMenuToolbar_title__3XwQd",iconWrapper:"PieMenuToolbar_iconWrapper__32wEL",icon:"PieMenuToolbar_icon__3qKBX"}},415:function(e,t,n){},422:function(e,t,n){"use strict";n.r(t);n(217),n(227),n(410);var a=n(0),r=n.n(a),i=n(111),o=n.n(i),c=(n(415),n(47)),s=n(30),l=n(144),d=n(6),u="SET_MODE",p="SET_CATEGORIES",v="SET_ACTIVE_CATEGORY_INDEX",h="ADD_CATEGORY",C="REMOVE_CATEGORY",m="SET_CATEGORY_TITLE",g="SET_CONFIRMATION_MODAL",b="SET_ALL_AVAILABLE_COMMANDS",j="SET_ACTIVE_CATEGORY_COMMAND_IDS",O="SET_PIE_MENU_POSITION",f="SET_CURSOR_POSITION",x="SET_HOVERED_COMMAND_INDEX",_="SET_ICON_MENU_SHORTCUT",y="SET_PIE_MENU_ITEMS_ALIGNED_HORIZONTALLY",I="SET_TRANSPARENT_BACKGROUND",k="SET_PIE_MENU_CENTERED_TO_VIEW",M={mode:0,categories:[],activeCategoryIndex:null,allAvailableCommands:[],allAvailableCommandIdsToCommands:{},pieMenuPosition:[0,0],cursorPosition:[0,0],hoveredCommandIndex:null,iconMenuShortcut:[0,0,0,null],pieMenuItemsAlignedHorizontally:!0,transparentBackground:!1,pieMenuCenteredToView:!0};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case k:return Object(d.a)(Object(d.a)({},e),{},{pieMenuCenteredToView:n});case y:return Object(d.a)(Object(d.a)({},e),{},{pieMenuItemsAlignedHorizontally:n});case x:return Object(d.a)(Object(d.a)({},e),{},{hoveredCommandIndex:n});case u:return Object(d.a)(Object(d.a)({},e),{},{mode:n});case p:return Object(d.a)(Object(d.a)({},e),{},{categories:n});case h:for(var a=0,r=!0;r;){r=!1;var i,o=Object(l.a)(e.categories);try{for(o.s();!(i=o.n()).done;){var c=i.value;if(c.id===a){r=!0,++a;break}}}catch(w){o.e(w)}finally{o.f()}}return Object(d.a)(Object(d.a)({},e),{},{categories:[].concat(Object(s.a)(e.categories),[Object(d.a)(Object(d.a)({},n),{},{id:a})])});case C:return Object(d.a)(Object(d.a)({},e),{},{categories:e.categories.filter((function(e,t){return t!==n}))});case v:return Object(d.a)(Object(d.a)({},e),{},{activeCategoryIndex:n,hoveredCommandIndex:null});case m:return Object(d.a)(Object(d.a)({},e),{},{categories:e.categories.map((function(e,t){return t===n.index?Object(d.a)(Object(d.a)({},e),{},{title:n.title}):e}))});case b:var g,N=[],A=Object(l.a)(n);try{for(A.s();!(g=A.n()).done;){var T=g.value;N[T.id]=T}}catch(w){A.e(w)}finally{A.f()}return Object(d.a)(Object(d.a)({},e),{},{allAvailableCommands:n,allAvailableCommandIdsToCommands:N});case j:if(null===e.activeCategoryIndex)return e;var S=Object(s.a)(e.categories);return S[e.activeCategoryIndex]=Object(d.a)(Object(d.a)({},S[e.activeCategoryIndex]),{},{commandIds:n}),Object(d.a)(Object(d.a)({},e),{},{categories:S});case O:return Object(d.a)(Object(d.a)({},e),{},{pieMenuPosition:n});case f:return Object(d.a)(Object(d.a)({},e),{},{cursorPosition:n});case _:return Object(d.a)(Object(d.a)({},e),{},{iconMenuShortcut:n});case I:return Object(d.a)(Object(d.a)({},e),{},{transparentBackground:n});default:return e}},A={confirmation:null};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case g:return Object(d.a)(Object(d.a)({},e),{},{confirmation:n});default:return e}},S=Object(c.c)({main:N,modal:T}),w=n(212);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return Object(c.d)(S,e,Object(c.a)(w.a))}(),D=n(9);var E=function(e,t){return window.hasOwnProperty("sketchup")&&window.sketchup?window.sketchup.hasOwnProperty(e)?(window.sketchup[e](t),null):void console.log('SketchUp callback function, "'.concat(e,'", does not exist!')):(void 0!==t&&(t=JSON.stringify(t)),void 0===t&&(t=""),null)};function R(e){return{type:u,payload:e}}function B(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&E("setCategories",e),{type:p,payload:e}}function W(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&E("setActiveCategoryIndex",e),{type:v,payload:e}}function H(e){return{type:b,payload:e}}var L=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){n({type:j,payload:e}),t&&E("setCategories",a().main.categories)}};var K=function(){window.suBridge={setMode:function(e){return P.dispatch(R(e))},setCategories:function(e){return P.dispatch(B(e,!1))},setActiveCategoryIndex:function(e){return P.dispatch(W(e,!1))},setAllAvailableCommands:function(e){return P.dispatch(H(e))},setActiveCategoryCommandIds:function(e){return P.dispatch(L(e,!1))}},window.addEventListener("error",(function(e){try{E("onError",e.message)}catch(t){console.log(t)}}))},V=n(17),z=n(18),F=n(20),U=n(19),q=n(213),G=n.n(q),Y=n(214),J=n.n(Y),X=n(10),Z=n(36),Q=n.n(Z);var $=n.p+"static/media/pm-add-icon.81706d5b.svg",ee=n.p+"static/media/pm-remove-icon.d733bb88.svg",te=n.p+"static/media/pm-settings-icon.92548b6c.svg",ne=n(92),ae=n.n(ne),re=n(1),ie=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.children,a=e.onClick,r=e.disabled,i=e.className,o=e.small,c="";return c="sea"===t?" "+ae.a.sea:" "+ae.a.grey,o&&(c+=" "+ae.a.small),i&&(c+=" "+i),Object(re.jsx)("button",{className:ae.a.button+c,type:"button",onClick:a,disabled:r,children:n})}}]),n}(a.Component),oe=n.p+"static/media/pie-menu-next.50e8dc96.svg",ce=n.p+"static/media/pie-menu-prev.63eadbad.svg",se=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this,e)).handleAddClick=a.handleAddClick.bind(Object(X.a)(a)),a.handleRemoveClick=a.handleRemoveClick.bind(Object(X.a)(a)),a.handleSettingsClick=a.handleSettingsClick.bind(Object(X.a)(a)),a.handleNextClick=a.handleNextClick.bind(Object(X.a)(a)),a.handlePrevClick=a.handlePrevClick.bind(Object(X.a)(a)),a}return Object(z.a)(n,[{key:"handlePrevClick",value:function(e){e.preventDefault();var t=this.props,n=t.categories,a=t.activeCategoryIndex;0!==n.length&&null!==a&&a>0&&this.props.setActiveCategoryIndex(a-1)}},{key:"handleNextClick",value:function(e){e.preventDefault();var t=this.props,n=t.categories,a=t.activeCategoryIndex;0!==n.length&&null!==a&&a+1<n.length&&this.props.setActiveCategoryIndex(a+1)}},{key:"handleAddClick",value:function(e){var t=this;e.preventDefault();var n=this.props.categories.length;Object(D.b)((function(){t.props.addCategory({title:"Category ".concat(n+1),commandIds:[]}),t.props.setActiveCategoryIndex(n),t.props.setMode(1)}))}},{key:"handleRemoveClick",value:function(e){var t=this;e.preventDefault();var n=this.props,a=n.categories,r=n.activeCategoryIndex;if(0!==a.length&&null!==r){var i=a[r];this.props.showConfirmationModal({title:"Are you sure?",message:"Are you sure you want to delete the category, '".concat(i.title,"'?"),onSubmit:function(e){var n=r,i=a.length-2;a.length<=1?n=null:n>i&&(n=i),Object(D.b)((function(){t.props.removeCategory(r),t.props.setActiveCategoryIndex(n)})),e()}})}}},{key:"handleSettingsClick",value:function(e){e.preventDefault(),this.props.setMode(2)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.activeCategoryIndex,r=null;return n.length>0&&null!==a&&(r=n[a]),Object(re.jsxs)("div",{className:Q.a.wrapper,children:[Object(re.jsx)("p",{className:Q.a.title,children:r?r.title:""}),Object(re.jsx)("div",{className:Q.a.iconWrapper,onClick:this.handlePrevClick,children:Object(re.jsx)("img",{src:ce,className:Q.a.icon,alt:"previous category"})}),Object(re.jsx)("div",{className:Q.a.iconWrapper,onClick:this.handleNextClick,children:Object(re.jsx)("img",{src:oe,className:Q.a.icon,alt:"next category"})}),Object(re.jsx)(ie,{onClick:function(t){t.preventDefault(),e.props.setMode(1)},color:"sea",small:!0,children:"Edit"}),Object(re.jsx)("div",{className:Q.a.iconWrapper,onClick:this.handleAddClick,children:Object(re.jsx)("img",{src:$,className:Q.a.icon,alt:"add category"})}),Object(re.jsx)("div",{className:Q.a.iconWrapper,onClick:this.handleRemoveClick,disabled:!r,children:Object(re.jsx)("img",{src:ee,className:Q.a.icon,alt:"remove category"})}),Object(re.jsx)("div",{className:Q.a.iconWrapper,onClick:this.handleSettingsClick,children:Object(re.jsx)("img",{src:te,className:Q.a.icon,alt:"settings"})})]})}}]),n}(a.Component);var le={setMode:R,showConfirmationModal:function(e){var t=e.title,n=e.message,a=e.onSubmit,r=e.onCancel;return{type:g,payload:{title:t,message:n,onSubmit:a,onCancel:r}}},addCategory:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){n({type:h,payload:e}),t&&E("setCategories",a().main.categories)}},removeCategory:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){n({type:C,payload:e}),t&&E("setCategories",a().main.categories)}},setActiveCategoryIndex:W},de=Object(D.c)((function(e){var t=e.main;return{categories:t.categories,activeCategoryIndex:t.activeCategoryIndex}}),le)(se),ue=n(55),pe=n.n(ue),ve=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this,e)).handleNextClick=a.handleNextClick.bind(Object(X.a)(a)),a.handlePrevClick=a.handlePrevClick.bind(Object(X.a)(a)),a.handleTextInputChange=a.handleTextInputChange.bind(Object(X.a)(a)),a.handleTextInputBlur=a.handleTextInputBlur.bind(Object(X.a)(a)),a.state={text:""},a}return Object(z.a)(n,[{key:"handleTextInputChange",value:function(e){this.setState({text:e.target.value})}},{key:"handleTextInputBlur",value:function(e){var t=this.props,n=t.categories,a=t.activeCategoryIndex;0!==n.length&&null!==a&&this.props.setCategoryTitle(a,this.state.text.trim())}},{key:"componentDidMount",value:function(){var e=this.props,t=e.categories,n=e.activeCategoryIndex;if(0!==t.length&&null!==n){var a=t[n];a?this.setState({text:a.title}):this.setState({text:""})}else this.setState({text:""})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.categories,a=t.activeCategoryIndex;if(0!==n.length&&null!==a){var r=n[a];r?e.categories===n&&e.activeCategoryIndex===a||this.setState({text:r.title}):this.setState({text:""})}else this.setState({text:""})}},{key:"handlePrevClick",value:function(e){e.preventDefault();var t=this.props,n=t.categories,a=t.activeCategoryIndex;0!==n.length&&null!==a&&a>0&&this.props.setActiveCategoryIndex(a-1)}},{key:"handleNextClick",value:function(e){e.preventDefault();var t=this.props,n=t.categories,a=t.activeCategoryIndex;0!==n.length&&null!==a&&a+1<n.length&&this.props.setActiveCategoryIndex(a+1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.activeCategoryIndex;return 0===n.length||null===a?null:n[a]?Object(re.jsxs)("div",{className:pe.a.wrapper,children:[Object(re.jsx)("input",{type:"text",value:this.state.text,onChange:this.handleTextInputChange,onBlur:this.handleTextInputBlur,className:pe.a.textInput}),Object(re.jsx)("div",{className:pe.a.iconWrapper,onClick:this.handlePrevClick,children:Object(re.jsx)("img",{src:ce,className:pe.a.icon,alt:"previous category"})}),Object(re.jsx)("div",{className:pe.a.iconWrapper,onClick:this.handleNextClick,children:Object(re.jsx)("img",{src:oe,className:pe.a.icon,alt:"next category"})}),Object(re.jsx)(ie,{onClick:function(t){t.preventDefault(),e.props.setMode(0)},color:"sea",small:!0,className:pe.a.goBack,children:"Go Back"})]}):null}}]),n}(a.Component);var he={setMode:R,setCategoryTitle:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a,r){a({type:m,payload:{index:e,title:t}}),n&&E("setCategories",r().main.categories)}},setActiveCategoryIndex:W},Ce=Object(D.c)((function(e){var t=e.main;return{categories:t.categories,activeCategoryIndex:t.activeCategoryIndex}}),he)(ve),me=n(147),ge=n.n(me),be=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(e){return Object(V.a)(this,n),t.call(this,e)}return Object(z.a)(n,[{key:"render",value:function(){var e=this;return Object(re.jsx)("div",{className:ge.a.wrapper,children:Object(re.jsx)(ie,{onClick:function(t){t.preventDefault(),e.props.setMode(0)},color:"sea",small:!0,className:ge.a.goBack,children:"Go Back"})})}}]),n}(a.Component);var je={setMode:R},Oe=Object(D.c)((function(e){return e.main,{}}),je)(be),fe=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){var e=this.props.mode,t=null;return 0===e?t=Object(re.jsx)(de,{}):1===e?t=Object(re.jsx)(Ce,{}):2===e&&(t=Object(re.jsx)(Oe,{})),Object(re.jsx)("div",{className:J.a.wrapper,children:t})}}]),n}(a.Component);for(var xe=Object(D.c)((function(e){return{mode:e.main.mode}}),{})(fe),_e=n(215),ye=n.n(_e),Ie=n(45),ke=n.n(Ie),Me=[{id:0,title:"My favorite category",commandIds:[]},{id:1,title:"My other favorite category",commandIds:[]}],Ne=0;Ne<20;++Ne)Me[0].commandIds.push(5*Ne);for(var Ae=0;Ae<3;++Ae)Me[1].commandIds.push(30*Ae);for(var Te=[],Se=0;Se<100;++Se){var we=2*Se,Pe=2*Se;Te.push({id:Se,path:"test_path",backgroundColor:"rgb(".concat(we,",").concat(Pe,",").concat(255,")")})}var De=Math.PI/180,Ee=(Math.PI,[100,100]),Re=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this,e)).resizeAnimProc=a.resizeAnimProc.bind(Object(X.a)(a)),a.mouseMoveHandler=a.mouseMoveHandler.bind(Object(X.a)(a)),a.renderIconMenu=a.renderIconMenu.bind(Object(X.a)(a)),a.updateHoveredCommandIndex=a.updateHoveredCommandIndex.bind(Object(X.a)(a)),a.handleNextClick=a.handleNextClick.bind(Object(X.a)(a)),a.handlePrevClick=a.handlePrevClick.bind(Object(X.a)(a)),a.renderPreviousNextButtons=a.renderPreviousNextButtons.bind(Object(X.a)(a)),a.state={size:[0,0],origin:[0,0]},a.wrapperRef=r.a.createRef(),a.canvasRef=r.a.createRef(),a}return Object(z.a)(n,[{key:"handlePrevClick",value:function(e){e.preventDefault();var t=this.props,n=t.categories,a=t.activeCategoryIndex;0!==n.length&&null!==a&&a>0&&this.props.setActiveCategoryIndex(a-1)}},{key:"handleNextClick",value:function(e){e.preventDefault();var t=this.props,n=t.categories,a=t.activeCategoryIndex;0!==n.length&&null!==a&&a+1<n.length&&this.props.setActiveCategoryIndex(a+1)}},{key:"resizeAnimProc",value:function(){var e=this.wrapperRef.current;if(e){var t=e.getBoundingClientRect(),n=this.state,a=n.size,r=n.origin;a[0]===t.width&&a[1]===t.height&&r[0]===t.left&&r[1]===t.top||(a=[t.width,t.height],r=[t.left,t.top],this.setState({size:a,origin:r}));var i=this.canvasRef.current;if(i){var o=i.getContext("2d");o.fillStyle="rgba(0,0,0,0.0)",o.clearRect(0,0,Ee[0],Ee[1]),o.lineWidth=6,o.strokeStyle="#313131",o.beginPath(),o.arc(.5*Ee[0],.5*Ee[1],20,0,2*Math.PI),o.stroke();var c=this.props,s=c.pieMenuPosition,l=c.pieMenuCenteredToView,d=c.cursorPosition,u=c.activeCategoryIndex,p=c.categories;if(null!==u){var v;v=l?[.5*a[0],.5*a[1]]:[s[0]-r[0],s[1]-r[1]];var h=[d[0]-r[0],d[1]-r[1]],C=h[0]-v[0],m=h[1]-v[1],g=Math.sqrt(C*C+m*m);if(g>15){var b=Math.acos(C/g);m<0&&(b=2*Math.PI-b);b=Math.acos(C/g);m<0&&(b=2*Math.PI-b);var j=p[u].commandIds.length,O=0===j?0:Math.PI/j;O<15*De&&(O=15*De),o.lineWidth=11,o.strokeStyle="#FF0000",o.beginPath(),o.arc(.5*Ee[0],.5*Ee[1],20,b-O,b+O),o.stroke()}}}this.reqAnimId=window.requestAnimationFrame(this.resizeAnimProc)}else this.reqAnimId=window.requestAnimationFrame(this.resizeAnimProc)}},{key:"mouseMoveHandler",value:function(e){this.props.setCursorPosition([e.clientX,e.clientY])}},{key:"componentDidMount",value:function(){this.reqAnimId=window.requestAnimationFrame(this.resizeAnimProc),this.props.setHoveredCommandIndex(null)}},{key:"componentWillUnmount",value:function(){this.reqAnimId&&(window.cancelAnimationFrame(this.reqAnimId),this.reqAnimId=null)}},{key:"updateHoveredCommandIndex",value:function(){var e=this.props,t=e.pieMenuCenteredToView,n=e.pieMenuPosition,a=e.categories,r=e.activeCategoryIndex,i=e.cursorPosition;if(null!==r){var o=a[r].commandIds.length;if(null!==o)if(1!==o.length){var c,s,l=this.state,d=l.size,u=l.origin;t?(c=.5*d[0],s=.5*d[1]):(c=n[0]-u[0],s=n[1]-u[1]);var p=i[0]-u[0]-c,v=i[1]-u[1]-s,h=Math.sqrt(p*p+v*v);if(h<15)this.props.setHoveredCommandIndex(null);else{var C=Math.acos(p/h);v<0&&(C=2*Math.PI-C);var m=Math.floor(C*o/(2*Math.PI)+.5);m>=o&&(m=0),this.props.setHoveredCommandIndex(m)}}else this.props.setHoveredCommandIndex(0);else this.props.setHoveredCommandIndex(null)}else this.props.setHoveredCommandIndex(null)}},{key:"componentDidUpdate",value:function(e){e.cursorPosition!==this.props.cursorPosition&&this.updateHoveredCommandIndex()}},{key:"renderIconMenu",value:function(){var e=this.props,t=e.allAvailableCommandIdsToCommands,n=e.hoveredCommandIndex,a=e.categories,r=e.activeCategoryIndex,i=e.pieMenuCenteredToView,o=e.pieMenuPosition;if(null===r)return null;var c,s,l=a[r].commandIds,d=l.length;if(0===d)return null;if(i){var u=this.state.size;c=.5*u[0],s=.5*u[1]}else{var p=this.state.origin;c=o[0]-p[0],s=o[1]-p[1]}var v=9*d;v<120&&(v=120);for(var h=2*Math.PI/d,C=[],m=0;m<d;++m){var g=t[l[m]];if(g){var b=h*m,j=c+v*Math.cos(b),O=s+v*Math.sin(b);C.push(Object(re.jsx)("div",{className:ke.a.iconMenuItem+(n===m?" "+ke.a.iconMenuItemHovered:""),style:{top:O+"px",left:j+"px",backgroundColor:g.backgroundColor,transform:"rotate(".concat(b+Math.PI/2,"rad)")}},m))}}return C}},{key:"renderPreviousNextButtons",value:function(){var e,t,n=this.props,a=n.pieMenuCenteredToView,r=n.pieMenuPosition,i=n.activeCategoryIndex;n.categories;if(null===i)return null;if(a){var o=this.state.size;e=.5*o[0],t=.5*o[1]}else{var c=this.state.origin;e=r[0]-c[0],t=r[1]-c[1]}return Object(re.jsxs)("div",{className:ke.a.prevNextButtons,style:{left:e,top:t+30},children:[Object(re.jsx)("div",{className:ke.a.iconWrapper,onClick:this.handlePrevClick,children:Object(re.jsx)("img",{src:ce,className:ke.a.icon,alt:"previous category"})}),Object(re.jsx)("div",{className:ke.a.iconWrapper,onClick:this.handleNextClick,children:Object(re.jsx)("img",{src:oe,className:ke.a.icon,alt:"next category"})})]})}},{key:"render",value:function(){var e,t,n=this.props,a=n.activeCategoryIndex,r=n.pieMenuCenteredToView,i=n.pieMenuPosition;if(null===a)return null;if(r){var o=this.state.size;t=.5*(o[0]-Ee[0]),e=.5*(o[1]-Ee[1])}else{var c=this.state.origin;t=i[0]-c[0]-.5*Ee[0],e=i[1]-c[1]-.5*Ee[1]}return Object(re.jsxs)("div",{className:ke.a.wrapper,ref:this.wrapperRef,onMouseMove:this.mouseMoveHandler,children:[Object(re.jsx)("canvas",{ref:this.canvasRef,className:ke.a.canvas,width:Ee[0],height:Ee[1],style:{top:e,left:t}}),this.renderIconMenu(),this.renderPreviousNextButtons()]})}}]),n}(a.Component);var Be={setCursorPosition:function(e){return{type:f,payload:e}},setHoveredCommandIndex:function(e){return{type:x,payload:e}},setActiveCategoryIndex:W},We=Object(D.c)((function(e){var t=e.main;return{activeCategoryIndex:t.activeCategoryIndex,allAvailableCommands:t.allAvailableCommands,allAvailableCommandIdsToCommands:t.allAvailableCommandIdsToCommands,categories:t.categories,pieMenuCenteredToView:t.pieMenuCenteredToView,pieMenuPosition:t.pieMenuPosition,cursorPosition:t.cursorPosition,hoveredCommandIndex:t.hoveredCommandIndex}}),Be)(Re),He=n(71),Le=n.n(He),Ke=n(427),Ve=n(114),ze=n(25),Fe=n(428),Ue=n(54),qe=n.n(Ue),Ge=n(429),Ye=n(64),Je=n.n(Ye);var Xe=function(e){var t=e.card,n=e.moveCard,r=Object(a.useRef)(null),i=Object(Ge.a)((function(){return{item:{type:"leftCard",id:t.id},collect:function(e){return{isDragging:e.isDragging()}}}})),o=Object(ze.a)(i,2),c=o[0],s=o[1],l=Object(Fe.a)({accept:"leftCard",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e){e.id!==t.id&&n(e.id,t.id)}}),d=Object(ze.a)(l,2),u=(d[0].handlerId,d[1]);return s(r),u(r),Object(re.jsx)("div",{ref:r,className:Je.a.itemWrapper,style:{opacity:c.isDragging?.5:1,backgroundColor:t.backgroundColor},children:Object(re.jsx)("div",{className:Je.a.item,style:{backgroundColor:t.backgroundColor},children:t.id})})};var Ze={setActiveCategoryCommandIds:L},Qe=Object(D.c)((function(e){var t=e.main;return{categories:t.categories,activeCategoryIndex:t.activeCategoryIndex,allAvailableCommands:t.allAvailableCommands,allAvailableCommandIdsToCommands:t.allAvailableCommandIdsToCommands}}),Ze)((function(e){var t=e.categories,n=(e.allAvailableCommands,e.allAvailableCommandIdsToCommands),r=e.setActiveCategoryCommandIds,i=e.activeCategoryIndex,o=Object(a.useRef)(null),c=null;null!==i&&(c=t[i]);var l=Object(Fe.a)((function(){return{accept:"rightCard",collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}},drop:function(e){c&&!c.commandIds.includes(e.id)&&r([].concat(Object(s.a)(c.commandIds),[e.id]))}}}),[c,r]),d=Object(ze.a)(l,2),u=d[0],p=d[1],v=Object(a.useCallback)((function(e,t){for(var n=null,a=null,i=c.commandIds.length,o=0;o<i;++o){var l=c.commandIds[o];l===e?n=o:l===t&&(a=o)}if(null!==n&&null!==a){var d=Object(s.a)(c.commandIds),u=d[n];d.splice(n,1),d.splice(a,0,u),r(d)}}),[c,r]);return p(o),c?Object(re.jsx)("div",{ref:o,className:qe.a.wrapper+" "+(u.isOver?qe.a.cardOver:qe.a.cardNotOver),children:c.commandIds.map((function(e){var t=n[e];return t?Object(re.jsx)(Xe,{card:t,moveCard:v},t.id):null}))}):null}));var $e=function(e){var t=e.card,n=e.moveCard,r=Object(a.useRef)(null),i=Object(Ge.a)((function(){return{item:{type:"rightCard",id:t.id},collect:function(e){return{isDragging:e.isDragging()}}}})),o=Object(ze.a)(i,2),c=o[0],s=o[1],l=Object(Fe.a)({accept:"rightCard",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e){e.id!==t.id&&n(e.id,t.id)}}),d=Object(ze.a)(l,2),u=(d[0].handlerId,d[1]);return s(r),u(r),Object(re.jsx)("div",{ref:r,className:Je.a.itemWrapper+(c.isDragging?" "+Je.a.itemDragging:""),style:{backgroundColor:t.backgroundColor},children:Object(re.jsx)("div",{className:Je.a.item,style:{backgroundColor:t.backgroundColor},children:t.id})})};var et={setAllAvailableCommands:H,setActiveCategoryCommandIds:L},tt=Object(D.c)((function(e){var t=e.main;return{categories:t.categories,activeCategoryIndex:t.activeCategoryIndex,allAvailableCommands:t.allAvailableCommands}}),et)((function(e){var t=e.categories,n=e.activeCategoryIndex,r=e.allAvailableCommands,i=e.setAllAvailableCommands,o=e.setActiveCategoryCommandIds,c=Object(a.useRef)(null),l=null;null!==n&&(l=t[n]);var d=Object(Fe.a)((function(){return{accept:"rightCard",collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}},drop:function(e){}}})),u=Object(ze.a)(d,2),p=u[0],v=u[1],h=Object(Fe.a)((function(){return{accept:"leftCard",collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}},drop:function(e){l&&o(l.commandIds.filter((function(t){return t!==e.id})))}}}),[o,l]),C=Object(ze.a)(h,2),m=C[0],g=C[1],b=Object(a.useCallback)((function(e,t){for(var n=null,a=null,o=r.length,c=0;c<o;++c){var l=r[c].id;l===e?n=c:l===t&&(a=c)}if(null!==n&&null!==a){var d=Object(s.a)(r),u=d[n];d.splice(n,1),d.splice(a,0,u),i(d)}}),[r,i]);return v(c),g(c),l?Object(re.jsx)("div",{ref:c,className:qe.a.wrapper+" "+(p.isOver||m.isOver?qe.a.cardOver:qe.a.cardNotOver),children:r.map((function(e,t){return l.commandIds.includes(e.id)?null:Object(re.jsx)($e,{card:e,moveCard:b},e.id)}))}):null})),nt=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this,e)).handleMoveCard=a.handleMoveCard.bind(Object(X.a)(a)),a.leftContainerRef=r.a.createRef(),a.rightContainerRef=r.a.createRef(),a}return Object(z.a)(n,[{key:"handleMoveCard",value:function(e,t){for(var n=this.props.allAvailableCommands,a=null,r=null,i=n.length,o=0;o<i;++o){var c=n[o].id;c===e?a=o:c===t&&(r=o)}if(null!==a&&null!==r){var l=Object(s.a)(n),d=l[a];l.splice(a,1),l.splice(r,0,d),this.props.setAllAvailableCommands(l)}}},{key:"render",value:function(){return Object(re.jsx)("div",{className:Le.a.box,children:Object(re.jsxs)(Ke.a,{backend:Ve.a,children:[Object(re.jsx)("div",{className:Le.a.outerContainer+" "+Le.a.outerLeft,children:Object(re.jsx)(Qe,{})}),Object(re.jsx)("div",{className:Le.a.outerContainer+" "+Le.a.outerRight,children:Object(re.jsx)(tt,{})})]})})}}]),n}(a.Component);var at={setAllAvailableCommands:H},rt=Object(D.c)((function(e){return{allAvailableCommands:e.main.allAvailableCommands}}),at)(nt),it=n(21),ot=n.n(it),ct=n(116),st=n.n(ct);var lt=function(e){var t=e.checked,n=e.children,a=e.useRadio,r=e.onChange,i=e.containerClass,o=e.checkmarkClass,c=e.disabled,s=e.id,l=st.a.container;i&&(l+=" "+i);var d=st.a.checkmark;return o&&(d+=" "+o),Object(re.jsxs)("label",{className:l,children:[Object(re.jsx)("input",{type:a?"radio":"checkbox",onChange:r,checked:t,disabled:!!c,id:s}),Object(re.jsx)("span",{className:d}),Object(re.jsx)("div",{className:st.a.children,children:n})]})},dt=n(117),ut=n.n(dt),pt=n(93),vt=n.n(pt);var ht=function(e){var t=e.card,n=e.moveCard,r=Object(a.useRef)(null),i=Object(Ge.a)((function(){return{item:{type:"categoryCard",id:t.id},collect:function(e){return{isDragging:e.isDragging()}}}})),o=Object(ze.a)(i,2),c=o[0],s=o[1],l=Object(Fe.a)({accept:"categoryCard",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e){e.id!==t.id&&n(e.id,t.id)}}),d=Object(ze.a)(l,2),u=d[0].handlerId,p=d[1];return s(r),p(r),Object(re.jsx)("div",{ref:r,className:vt.a.itemWrapper+(c.isDragging?" "+vt.a.itemDragging:""),"data-handler-id":u,children:Object(re.jsx)("div",{className:vt.a.item,children:Object(re.jsx)("p",{className:vt.a.text,children:t.title})})})};var Ct={setCategories:B,setActiveCategoryIndex:W},mt=Object(D.c)((function(e){var t=e.main;return{categories:t.categories,activeCategoryIndex:t.activeCategoryIndex}}),Ct)((function(e){var t=e.categories,n=e.activeCategoryIndex,r=e.setCategories,i=e.setActiveCategoryIndex,o=Object(a.useRef)(null),c=Object(Fe.a)((function(){return{accept:"categoryCard",collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}},drop:function(e){}}})),l=Object(ze.a)(c,2),d=l[0],u=l[1],p=Object(a.useCallback)((function(e,n){for(var a=null,i=null,o=t.length,c=0;c<o;++c){var l=t[c].id;l===e?a=c:l===n&&(i=c)}if(null!==a&&null!==i){var d=Object(s.a)(t),u=d[a];d.splice(a,1),d.splice(i,0,u),r(d)}}),[t,n,r,i]);return u(o),Object(re.jsx)("div",{ref:o,className:ut.a.wrapper+" "+(d.isOver?ut.a.cardOver:ut.a.cardNotOver),children:t.map((function(e,t){return Object(re.jsx)(ht,{card:e,moveCard:p},e.id)}))})})),gt=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this,e)).state={iconKey:[0,0,0,null]},a.handleOnKeyDown=a.handleOnKeyDown.bind(Object(X.a)(a)),a.handleOnKeyUp=a.handleOnKeyUp.bind(Object(X.a)(a)),a.handleResetDefaultsClick=a.handleResetDefaultsClick.bind(Object(X.a)(a)),a}return Object(z.a)(n,[{key:"componentDidMount",value:function(){this.setState({iconKey:this.props.iconMenuShortcut})}},{key:"componentDidUpdate",value:function(e){var t=this.props.iconMenuShortcut;e.iconMenuShortcut!==t&&this.setState({iconKey:t})}},{key:"handleResetDefaultsClick",value:function(e){e.preventDefault()}},{key:"handleOnKeyDown",value:function(e){e.preventDefault();var t=[0,0,0,null];e.ctrlKey&&(t[0]=1),e.shiftKey&&(t[1]=1),e.altKey&&(t[2]=1);var n=e.key.toUpperCase();"ALT"!=n&&"CONTROL"!=n&&"SHIFT"!=n&&(t[3]=n),this.setState({iconKey:t})}},{key:"handleOnKeyUp",value:function(e){e.preventDefault();var t=Object(s.a)(this.state.iconKey);if(t[3])this.props.setIconMenuShortcut(t);else{var n=e.key.toUpperCase();"CONTROL"===n?t[0]=0:"SHIFT"===n?t[1]=0:"ALT"===n&&(t[2]=0),this.setState({iconKey:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.pieMenuCenteredToView,a=t.transparentBackground,r=t.pieMenuItemsAlignedHorizontally,i=this.state.iconKey,o="";return i[0]&&(o+="CTRL + "),i[1]&&(o+="SHIFT + "),i[2]&&(o+="ALT + "),null!==i[3]&&(o+=i[3]),Object(re.jsxs)("div",{className:ot.a.box,children:[Object(re.jsx)("div",{className:ot.a.outerContainer+" "+ot.a.outerLeft,children:Object(re.jsxs)("div",{className:ot.a.innerContainer,children:[Object(re.jsx)("p",{className:ot.a.header,children:"Keyboard Settings"}),Object(re.jsxs)("div",{className:ot.a.keyboardControlsBox,children:[Object(re.jsx)("p",{className:ot.a.text,children:"Icon Menu Key"}),Object(re.jsx)("input",{type:"text",className:ot.a.textInput,onKeyDown:this.handleOnKeyDown,onKeyUp:this.handleOnKeyUp,value:o})]}),Object(re.jsx)("p",{className:ot.a.header,children:"Display Settings"}),Object(re.jsxs)("div",{className:ot.a.displaySettingsBox,children:[Object(re.jsx)(lt,{containerClass:ot.a.checkboxContainer,onChange:function(t){return e.props.setTransparentBackground(!a)},checked:a,children:Object(re.jsx)("p",{className:ot.a.checkboxText,children:"Transparent Background"})}),Object(re.jsx)(lt,{containerClass:ot.a.checkboxContainer,onChange:function(t){e.props.setPieMenuCenteredToView(!n)},checked:n,children:Object(re.jsx)("p",{className:ot.a.checkboxText,children:"Center Pie Menu to Viewport"})}),Object(re.jsx)(lt,{containerClass:ot.a.checkboxContainer,onChange:function(t){return e.props.setPieMenuItemsAlignedHorizontally(!r)},checked:r,children:Object(re.jsx)("p",{className:ot.a.checkboxText,children:"Align Pie Menu items horizontally"})})]}),Object(re.jsx)(ie,{color:"sea",className:ot.a.resetButton,onClick:this.handleResetDefaultsClick,children:"Restore Defaults"})]})}),Object(re.jsx)("div",{className:ot.a.outerContainer+" "+ot.a.outerRight,children:Object(re.jsxs)("div",{className:ot.a.innerContainer,children:[Object(re.jsx)("p",{className:ot.a.header,children:"Pie Menu Ordering"}),Object(re.jsx)(Ke.a,{backend:Ve.a,children:Object(re.jsx)(mt,{})})]})})]})}}]),n}(a.Component);var bt={setCategories:B,setIconMenuShortcut:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){n({type:_,payload:e}),t&&E("setIconMenuShortcut",e)}},setPieMenuItemsAlignedHorizontally:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){n({type:y,payload:e}),t&&E("setPieMenuItemsAlignedHorizontally",e)}},setTransparentBackground:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){n({type:I,payload:e}),t&&E("setTransparentBackground",e)}},setPieMenuCenteredToView:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){n({type:k,payload:e}),t&&E("setPieMenuCenteredToView",e)}}},jt=Object(D.c)((function(e){var t=e.main;return{categories:t.categories,pieMenuPosition:t.pieMenuPosition,pieMenuCenteredToView:t.pieMenuCenteredToView,pieMenuItemsAlignedHorizontally:t.pieMenuItemsAlignedHorizontally,transparentBackground:t.transparentBackground,iconMenuShortcut:t.iconMenuShortcut}}),bt)(gt),Ot=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){var e=this.props.mode,t=null;return 0===e?t=Object(re.jsx)(We,{}):1===e?t=Object(re.jsx)(rt,{}):2===e&&(t=Object(re.jsx)(jt,{})),Object(re.jsx)("div",{className:ye.a.wrapper,children:t})}}]),n}(a.Component);var ft=Object(D.c)((function(e){return{mode:e.main.mode}}),{})(Ot),xt=n(72),_t=n.n(xt),yt=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(e){var a;return Object(V.a)(this,n),(a=t.call(this,e)).handleSubmitClick=a.handleSubmitClick.bind(Object(X.a)(a)),a.handleCancelClick=a.handleCancelClick.bind(Object(X.a)(a)),a}return Object(z.a)(n,[{key:"handleSubmitClick",value:function(e){e.preventDefault();var t=this.props.confirmation;t&&t.onSubmit?t.onSubmit(this.props.hideConfirmationModal):this.props.hideConfirmationModal()}},{key:"handleCancelClick",value:function(e){e.preventDefault();var t=this.props.confirmation;t&&t.onCancel?t.onCancel(this.props.hideConfirmationModal):this.props.hideConfirmationModal()}},{key:"render",value:function(){var e=this.props.confirmation;return e?Object(re.jsx)("div",{className:_t.a.wrapper,children:Object(re.jsxs)("div",{className:_t.a.box,children:[Object(re.jsx)("p",{className:_t.a.title,children:e.title}),Object(re.jsx)("p",{className:_t.a.message,children:e.message}),Object(re.jsxs)("div",{className:_t.a.buttonsContainer,children:[Object(re.jsx)(ie,{onClick:this.handleSubmitClick,color:"sea",children:"Yes"}),Object(re.jsx)(ie,{onClick:this.handleCancelClick,color:"grey",children:"No"})]})]})}):null}}]),n}(a.Component);var It={hideConfirmationModal:function(){return{type:g,payload:null}}},kt=Object(D.c)((function(e){return{confirmation:e.modal.confirmation}}),It)(yt),Mt=function(e){Object(F.a)(n,e);var t=Object(U.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(D.b)((function(){e.props.setCategories(Me),e.props.setActiveCategoryIndex(0),e.props.setAllAvailableCommands(Te)}))}},{key:"render",value:function(){return Object(re.jsxs)("div",{className:G.a.wrapper,children:[Object(re.jsx)(xe,{}),Object(re.jsx)(ft,{}),Object(re.jsx)(kt,{})]})}}]),n}(a.Component);var Nt={setCategories:B,setActiveCategoryIndex:W,setAllAvailableCommands:H},At=Object(D.c)((function(e){return{}}),Nt)(Mt);K();var Tt=function(){return Object(a.useEffect)((function(){E("init")}),[]),Object(re.jsx)(At,{})},St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,430)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};o.a.render(Object(re.jsx)(r.a.StrictMode,{children:Object(re.jsx)(D.a,{store:P,children:Object(re.jsx)(Tt,{})})}),document.getElementById("root")),St()},45:function(e,t,n){e.exports={box:"PieMenuContext_box__1EVB1",wrapper:"PieMenuContext_wrapper__1RcI7",canvas:"PieMenuContext_canvas__3QY0l",iconMenuItem:"PieMenuContext_iconMenuItem__25hJs",iconMenuItemHovered:"PieMenuContext_iconMenuItemHovered__2rOu4",active:"PieMenuContext_active__3Jqyn",iconMenuItemChecked:"PieMenuContext_iconMenuItemChecked__1utjY",hovered:"PieMenuContext_hovered__kwbg4",prevNextButtons:"PieMenuContext_prevNextButtons__b81Qa",iconWrapper:"PieMenuContext_iconWrapper__3cXOe",icon:"PieMenuContext_icon__1I4W5"}},54:function(e,t,n){e.exports={wrapper:"CardContainer_wrapper__2U1_M",cardOver:"CardContainer_cardOver__1KX7N"}},55:function(e,t,n){e.exports={wrapper:"ManageIconCategoryToolbar_wrapper__WBz7b",title:"ManageIconCategoryToolbar_title___b3hp",iconWrapper:"ManageIconCategoryToolbar_iconWrapper__SIRqg",icon:"ManageIconCategoryToolbar_icon__3naH6",textInput:"ManageIconCategoryToolbar_textInput__2S1EW",goBack:"ManageIconCategoryToolbar_goBack__Ptxyh"}},64:function(e,t,n){e.exports={itemWrapper:"Card_itemWrapper__1sz5J",itemWrapper2:"Card_itemWrapper2__3w9BN",item:"Card_item__2BFTe",itemDragging:"Card_itemDragging__28vEa"}},71:function(e,t,n){e.exports={box:"ManageIconCategoryContext_box__3GOL-",outerContainer:"ManageIconCategoryContext_outerContainer__1vWBc",innerContainer:"ManageIconCategoryContext_innerContainer__13F6V",outerLeft:"ManageIconCategoryContext_outerLeft__6Ri-5",outerRight:"ManageIconCategoryContext_outerRight__2Fv58",grid:"ManageIconCategoryContext_grid__ClOku",gridItemWrapper:"ManageIconCategoryContext_gridItemWrapper__1eqo6",gridItem:"ManageIconCategoryContext_gridItem__tXEQV"}},72:function(e,t,n){e.exports={wrapper:"ConfirmationModal_wrapper__1UDqS",box:"ConfirmationModal_box__2DBLC",title:"ConfirmationModal_title__2i1sg",message:"ConfirmationModal_message__1h7dq",buttonsContainer:"ConfirmationModal_buttonsContainer__2YiVW"}},92:function(e,t,n){e.exports={button:"Button_button__k3efS",sea:"Button_sea__3RUBU",grey:"Button_grey__2oQZ7",small:"Button_small__2rZNr"}},93:function(e,t,n){e.exports={itemWrapper:"CategoryCard_itemWrapper__3E0Ba",item:"CategoryCard_item__29IH7",itemDragging:"CategoryCard_itemDragging__1qvaW",text:"CategoryCard_text__37BdF"}}},[[422,1,2]]]);
//# sourceMappingURL=main.4b27be34.chunk.js.map